{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","validateEmail","email","$","document","ready","Rellax","on","preventDefault","formatColor","state","color","element","attr","text","each","this","selectWoo","fn","amd","define","Utils","SingleSelection","adapter","update","data","selection","$rendered","$selection","find","formatted","display","empty","append","prop","title","clear","width","minimumResultsForSearch","templateSelection","templateResult","selectionAdapter","require","allowHtml","init_selectwoo_custom","toggleClass","parent","addClass","stopPropagation","ajax_filter_products","keyCode","click","hasClass","removeClass","val","removeTag","_this","keys","theme_client_data","search_post","forEach","str","includes","trigger","addTags","$datalist","label","traductions","select_size","id","el","link","push","html","remove","x","concat","select2","size","conversions","in","mm","rate","modifier","toFixed","dimensionfilterSize","in_array","size_string","innerHTML","size_array","split","parseFloat","isNaN","switch_size_dimension_select","init_sidebar_filters_woocommerce","hide","css","stock_el","replaceWith","clone","watch_and_mimic_product_stock_variation","$bouton","action","ID","replace","valid_fav","post","ajax_url","res","displayQuickMessage","phpData","translate","need_connect","submit","messageLog","email_processing","ajax","JSON","stringify","success","message","email_invalid","toggle","country","iframe","Vimeo","Player","rect","getBoundingClientRect","top","left","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","player","setMuted","play","playvideo","ArrayAdapter","CustomDataAdapter","$element","options","__super__","Extend","updateOptions","addOptions","convertToOptions","slug","string","type","arguments","undefined","latestRequest","show","catIDs","elem","classList","className","indexOf","attributes","url_filters","jQuery","_step","generalVars","URL","attributeName","_iterator","searchParams","key","termSlugs","queryType","get","parts","location","pathname","pagenumber","isNumeric","found","history","replaceState","map","param","encodeURIComponent","join","status","jqXHR","console","log","count","total","ajaxStop","loc","pages","page","index","href","substring","origin","search"],"mappings":"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","file":"../script.min.js","sourcesContent":["// validation\nfunction validateEmail(email) { \n\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // TODO: ne pas accepter un IP \n\treturn re.test(email);\n}\n\n(function($){\n\n\t$(document).ready(init_script)\n\n\t$.fn.select2.amd.define('select2/data/customAdapter',\n\t\t['select2/data/array', 'select2/utils'],\n\t\tfunction (ArrayAdapter, Utils) {\n\t\t\tfunction CustomDataAdapter ($element, options) {\n\t\t\t\tCustomDataAdapter.__super__.constructor.call(this, $element, options);\n\t\t\t}\n\t\t\tUtils.Extend(CustomDataAdapter, ArrayAdapter);\n\t\t\tCustomDataAdapter.prototype.updateOptions = function (data) {\n\t\t\t\tthis.$element.find('option').remove(); // remove all options\n\t\t\t\tthis.addOptions(this.convertToOptions(data));\n\t\t\t}        \n\t\t\treturn CustomDataAdapter;\n\t\t}\n\t);\n\n\tfunction init_script(){\n\t\tvar rellax = new Rellax('.rellax');\n\t\t$('a[href=\"#\"]').on('click',e=>e.preventDefault()); // General setup\n\t\tinit_selectwoo_custom();\n\t\t// init_custom_addon_woocommerce();\n\t\tinit_sidebar_filters_woocommerce();\n\t\twatch_and_mimic_product_stock_variation();\n\t\tinit_save_for_later();\n\t\tinit_subscribe_to_newsletter();\n\t\tsingle_product_js();\n\t\tinit_currencySelector();\n\t\tinit_vimeo_playvideo()\n\t\t\n\t}\n\n\tfunction init_vimeo_playvideo(){\n\t\t$('iframe').each(function(){\n\t\t\tvar iframe = $(this)[0];\n\t\t\tvar player = new Vimeo.Player(iframe);\n\t\t\t$(document).on('scroll',function(){\n\t\t\t\tif(isInViewport(iframe)){\n\t\t\t\t\tplayvideo(iframe)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\tfunction playvideo(iframe){\n\t\tif(!$(iframe).hasClass('hasPlayed')){\n\t\t\tvar player = new Vimeo.Player(iframe);\n\t\t\tplayer.setMuted(true)\n\t\t\tplayer.play();\n\t\t\t$(iframe).addClass('hasPlayed')\n\t\t}\n\t\t\n\t}\n\n\n\tfunction isInViewport(el) {\n\t\tconst rect = el.getBoundingClientRect();\n\t\treturn (\n\t\t\trect.top >= 0 &&\n\t\t\trect.left >= 0 &&\n\t\t\trect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n\t\t\trect.right <= (window.innerWidth || document.documentElement.clientWidth)\n\t\n\t\t);\n\t}\n\t/**\n\t * All events and actions concerning the filter sidebar on product list page\n\t * AB\n\t */\n\tfunction init_sidebar_filters_woocommerce(){\n\t\t//gère les section developables\n\t\t$('.woocommerce-widget-layered-nav h4,#secondary .widget ul li.is_parent_term > a, .woocommerce aside h3').on('click',function(e) {\n\t\t\te.preventDefault();\n\t\t\t$(this).next().toggleClass('open');\n\t\t\t$(this).toggleClass('open');\n\t\t});\n\t\t//click on child parent\n\t\t$('.woocommerce-widget-layered-nav-list__item a').on('click',function(){\n\t\t\t$(this).parent().parent().addClass('open');\n\t\t\t$(this).parent().parent().parent().find('.widget-title,a').addClass('open');\n\t\t});\n\t\t// Permet de cliquer sur les liens de doc supplémentaire dans les titre de sections\n\t\t$('.woocommerce-widget-layered-nav h4 a').on('click',function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\t\n\n\t\t$('#search + button').on('click',function(e){\n\t\t\tajax_filter_products();\n\t\t});\n\t\t\n\t\t$('#search').on('keyup',function(e){\n\t\t\tif(e.keyCode == '13') {\n\t\t\t\tajax_filter_products();\n\t\t\t}\n\t\t});\n\n\t\tif($('#secondary').length){\n\t\t\t$('#secondary .widget ul li:not(.is_parent_term) > a').click(function(e){\n\t\t\t\te.preventDefault();\n\t\n\t\t\t\tvar parent = $(this).parent();\n\t\n\t\t\t\tif(parent.hasClass('chosen')){\n\t\t\t\t\tparent.removeClass('chosen');\n\t\n\t\t\t\t}else{\n\t\t\t\t\tparent.addClass('chosen');\n\t\t\t\t}\n\t\n\t\t\t\tajax_filter_products();\n\t\t\t});\n\t\n\t\t\t$('#secondary .reset-filters').click(function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\t$('#search').val('')\n\t\t\t\t$(this).parent().parent().find('.chosen').removeClass('chosen');\n\t\t\t\tajax_filter_products();\n\t\t\t});\n\t\t}\n\n\t\tif($('.loadmore').length){\n\t\t\t$('.loadmore').click(function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\tajax_filter_products(true);\n\t\t\t});\n\t\t}\n\n\t\t$('body').on('click','span [data-close]',removeTag);\n\n\n\t\t/**\n\t\t * auto click from gat param sanitized in php\n\t\t */\n\t\t$('.woocommerce-widget-layered-nav-list__item a').each(function(){\n\t\t\tObject.keys(theme_client_data.search_post).forEach(str => {\n\t\t\t\tif($(this).attr('href').includes('='+str)){\n\t\t\t\t\t$(this).trigger('click');\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\n\t\tif(theme_client_data.search_post.name){\n\t\t\taddTags(theme_client_data.search_post.name,'name')\n\t\t}\n\n\t\trefillSelectFromDimensions();\n\t\t$('#dimensionfilter').select2()\n\t\t$('#dimensionfilter').on(\"change\",function(){\n\t\t\t$('#dimensionfilter').parent().parent().find('ul li.wc-layered-nav-term a[href=\"'+$('#dimensionfilter').val()+'\"]').click();\n\t\t})\n\t\t$('.dimension-filter-select [data-size]').on('click',function(){\n\t\t\t$('.dimension-filter-select [data-size]').removeClass('selected')\n\t\t\t$(this).addClass('selected');\n\t\t\tvar size = $(this).data('size');\n\n\t\t\tswitch_size_dimension_select(size);\n\t\t});\n\n\t}//init_sidebar_filters_woocommerce\n\n\tvar dimensionfilterSize = 'in';\n\tfunction switch_size_dimension_select(size){\n\t\tvar conversions= {\n\t\t\tin:{\n\t\t\t\tmm:{ rate:25.4, modifier:(x)=> x.toFixed(0)}\n\t\t\t},\n\t\t\tmm:{\n\t\t\t\tin:{ rate:0.0393701, modifier:(x)=> x.toFixed(0)}\n\t\t\t}\n\t\t};\n\t\tif(dimensionfilterSize == size){ return; }\n\t\tif(!in_array(size,Object.keys(conversions))){ return; }\n\t\t\n\t\t$('#dimensionfilter option').each(function(i,el){\n\t\t\tif($(el).val() != ''){\n\t\t\t\tlet size_string = el.innerHTML;\n\t\t\t\tlet size_array = size_string.split('x');\n\t\t\t\tfor(let i = 0 ; i < size_array.length ; i++){\n\t\t\t\t\tsize_array[i] = parseFloat(size_array[i]) * conversions[dimensionfilterSize][size].rate;\n\t\t\t\t\tif(conversions[dimensionfilterSize][size].modifier){\n\t\t\t\t\t\tsize_array[i] = conversions[dimensionfilterSize][size].modifier(size_array[i]);\n\t\t\t\t\t}\n\t\t\t\t\tsize_array[i] = isNaN(size_array[i])?'':size_array[i];\n\t\t\t\t}\n\t\t\t\tsize_string = size_array[0]+' x '+size_array[1]+' x '+size_array[2];\n\t\t\t\tel.innerHTML = size_string;\n\t\t\t}\n\t\t});      \n\t\tdimensionfilterSize = size;\n\t\t$('#dimensionfilter').select2()\n\t}\n \n\tfunction refillSelectFromDimensions(){\n\t\t$datalist = [{value:\"\",label:theme_client_data.traductions.select_size}];\n\t\t$('#dimensionfilter').parent().parent().find('ul.woocommerce-widget-layered-nav-list').addClass('hide')\n\t\t$('#dimensionfilter').parent().parent().find('ul li.wc-layered-nav-term').each(function(id,el){\n\t\t\tvar link = $(el).find('a');\n\t\t\t$datalist.push({\n\t\t\t\tvalue:link.attr('href'),\n\t\t\t\tlabel:link.html()\n\t\t\t})\n\t\t})\n\t\t$('#dimensionfilter').find('option').each(function(i,el){\n\t\t\t$(el).remove();\n\t\t});\n\t\t$datalist.forEach(function(x){\n\t\t\t$('#dimensionfilter').append($(`<option value=\"${x.value}\" >${x.label}</option>`))\n\t\t})\n\t}\n\n\tfunction removeTag(){\n\t\tvar type = $(this).parent().data('type');\n\t\tif(type === 'name'){\n\t\t\t$('#search').val('')\n\t\t}else{\n\t\t\tvar slug = $(this).attr('data-close');\n\t\t\t$('li.chosen > a[data-slug=\"'+slug+'\"]').parent().removeClass('chosen');\n\t\t}\n\t\tajax_filter_products();\n\t\t\n\t\t\n\t}\n\t\n\tfunction addTags(string,type = 'attribute'){\n\t\t$('.filters-Tag').append($(`<span data-type=\"${type}\" > ${string.replace('-fr','').replace('-2','')} <i  data-close=\"${string}\" class=\"fal fa-times\"></i> </span>`));\n\t}\n\n\t// /**\n\t//  * Gère les event pour le changement de prix des produits variables\n\t//  * AB\n\t//  */\n\t// function init_custom_addon_woocommerce(){\n\t// \t/**\n\t// \t * Quand le form vérifie sa variation, on injecte les addon dans un data-attr, ils seront envoyés dans la requête Ajax\n\t// \t * AB\n\t// \t */\n\t// \t$('.variations_form').on('check_variations',function(){\n\t// \t\tlet custom_data={};\n\t// \t\t$('[data-addon_name]:checked').each(function(){\n\t// \t\t\tcustom_data[$(this).data('addon_name')] = $(this).val();\n\t// \t\t})\n\t// \t\t$(this).data('custom_data',custom_data)\n\t// \t})\n\t// \t/**\n\t// \t * Si un addon est toggle, force le form a vérifier son prix\n\t// \t * AB\n\t// \t */\n\t// \t$('[data-addon_name]').on('change',function(){\n\t// \t\t$('.variations_form').trigger('check_variations');\n\t// \t})\n\n\t// \t$('[data-addon-name] input').on('change',function(){\n\t// \t\tlet apply = $(this).parent().find('input:checked').val();\n\t// \t\tlet addon_price = $(this).parent().data('addon-price');\n\t// \t\tlet currency_selector = $('form.cart .woocommerce-Price-amount bdi span').remove()\n\t// \t\tlet price = +($('form.cart .woocommerce-Price-amount bdi').text())\n\t// \t\tlet el = $('<bdi></bdi>');\n\t// \t\tif(apply == 'true'){\n\t// \t\t\tel.text((price + addon_price).toFixed(2));\n\t// \t\t}else{\n\t// \t\t\tel.text((price - addon_price).toFixed(2));\n\t// \t\t}\n\t\t\t\n\t// \t\tel.prepend(currency_selector)\n\t// \t\t$('form.cart .woocommerce-Price-amount bdi').replaceWith(el)\n\t// \t})\n\t// }//init_custom_addon_woocommerce\n\n\t/**\n\t * Watch the product stock on a variable product to show it elsewhere\n\t * was neccessary because the price change via ajax in a script that can't be overriden (woocommerce)\n\t * AB\n\t */\n\tfunction watch_and_mimic_product_stock_variation(){\n\t\tif($('body.single-product').length == 0){\n\t\t\tif($('.variations_form').length > 0){\n\t\t\t\t$('.variations_form').on('change','input, select',function(){\n\t\t\t\t\tif($(this).val() === ''){\n\t\t\t\t\t\t$('.flex-wrap-gallery div.stock').hide()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tif($('.woocommerce-variation.single_variation').find('div.stock').length >0){\n\t\t\t\tif($('.woocommerce-variation.single_variation').find('div.stock').css('display') == 'none'){\n\t\t\t\t\t$('.flex-wrap-gallery div.stock').hide()\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t$('.flex-wrap-gallery div.stock').hide()\n\t\t\t}\n\t\t}\n\t\t$('.woocommerce-variation.single_variation div.stock').on('DOMSubtreeModified',function(){\n\t\t\tlet stock_el = $(this);\n\t\t\tif(stock_el.length > 0){\n\t\t\t\t$('.flex-wrap-gallery div.stock').replaceWith(stock_el.clone())\n\t\t\t}\n\t\t\n\t\t})\n\n\t\t$('.woocommerce-variation.single_variation').on('DOMSubtreeModified',function(){\n\n\t\t\tlet stock_el = $(this).find('div.stock');\n\t\t\tif(stock_el.length > 0){\n\t\t\t\t$('.flex-wrap-gallery div.stock').replaceWith(stock_el.clone())\n\t\t\t}\n\t\t\t\n\t\t\tif(!$(this).css('display') == 'none'  ){\n\t\t\t\t$('.flex-wrap-gallery div.stock').hide()\n\t\t\t}\n\t\t})\n\t}//watch_and_mimic_product_stock_variation\n\n\tfunction init_save_for_later(){\n\t\t/**\n\t\t * Ajax pour ajouter des produits dans les favoris\n\t\t */\n\t\t$(document).on('click', '.add_to_fav', function(e){\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif($('body.logged-in').length > 0){\n\t\t\t\tvar $bouton = $(this);\n\t\t\t\tvar id = $(this).attr('href');\n\t\t\t\tvar post_id = id.replace(/\\D/g, '');\n\n\t\t\t\tvar data = {\n\t\t\t\t\t'action': 'add_fav',\n\t\t\t\t\t'ID': post_id,\n\t\t\t\t\t'valid_fav': 'ajax-fav', // ajoute une validation\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$.post(theme_client_data.ajax_url, data, function(res){\n\t\t\t\t\tif(res){\n\t\t\t\t\t\t$bouton.toggleClass('added');\n\t\t\t\t\t}\n\t\t\t\t});\t\n\t\t\t}else{\n\t\t\t\tdisplayQuickMessage( phpData.translate.need_connect );\n\t\t\t}\n\t\t});\n\t}//init_save_for_later\n\n\tfunction init_subscribe_to_newsletter(){\n\t\t$('.infolettre, .newsletter-form').submit(function(e){\n\t\t\te.preventDefault();\n\t\t\tvar messageLog = $('.form-error-log');\n\t\n\t\t\tif(!validateEmail($(this).find('input[name=\"email\"]').val())){\n\t\t\t\tmessageLog.text(theme_client_data.traductions.email_invalid).removeClass('success processing').addClass('error');\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\t// update user interface\n\t\t\t\tmessageLog.html(theme_client_data.traductions.email_processing).removeClass('success error').addClass('processing');\n\t\t\t\t\n\t\t\t\tvar data = {\n\t\t\t\t\tajax: true,\n\t\t\t\t\temail: $(this).find('input[name=\"email\"]').val(),\n\t\t\t\t\taction: 'newsletter_subscription'\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Prepare query string and send AJAX request\n\t\t\t\t$.post( theme_client_data.ajax_url, data, function(res){\n\t\t\t\t\tJSON.stringify(res);\n\t\n\t\t\t\t\tif(res.success){\t\t\t\t\n\t\t\t\t\t\tmessageLog.removeClass('error processing').addClass('success').html(res.message);\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tmessageLog.removeClass('success processing').addClass('error').html(res.message);\n\t\t\t\t\t}\n\t\t\t\t}, 'json');\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}//init_subscribe_to_newsletter\n\n\tfunction init_selectwoo_custom(){\n\t\t$('[data-s2]').each(function(){ $(this).selectWoo()});\n\n\t\t// selectwoo custom template adapter https://github.com/woocommerce/selectWoo/issues/39\n\t\t// corrige un bug pour l'attribut que est selected\n\t\t$.fn.selectWoo.amd.define('customSingleSelectionAdapter', [\n\t\t\t'select2/utils',\n\t\t\t'select2/selection/single',\n\t\t], function (Utils, SingleSelection) {\n\t\t\tconst adapter = SingleSelection;\n\t\t\tadapter.prototype.update = function (data) {\n\t\t\tif (data.length === 0) {\n\t\t\t\tthis.clear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar selection = data[0];\n\t\t\tvar $rendered = this.$selection.find('.select2-selection__rendered');\n\t\t\tvar formatted = this.display(selection, $rendered);\n\t\t\t$rendered.empty().append(formatted);\n\t\t\t$rendered.prop('title', selection.title || selection.text);\n\t\t\t};\n\t\t\treturn adapter;\n\t\t});\n\n\t\t// Tout les select2 avec la class en question vont render la couleur dans data-color\n\t\t$('.with-color').selectWoo({\n\t\t\twidth: \"100%\",\n\t\t\tminimumResultsForSearch: -1,\n\t\t\ttemplateSelection: formatColor,\n\t\t\ttemplateResult: formatColor,\n\t\t\tselectionAdapter: $.fn.selectWoo.amd.require('customSingleSelectionAdapter'),\n\t\t\tallowHtml: true\n\t\t})\n\t\tfunction formatColor(state) {\n\t\t\tconst color = $(state.element).attr('data-color');\n\t\t\tif(color){\n\t\t\t\treturn $('<span><i style=\"font-size:1.5em;color:'+color+'\" class=\"fa fa-square\"></i> '+state.text+'</span>');\n\t\t\t}else{\n\t\t\t\treturn state.text;\n\t\t\t}\n\t\t}\n\t}//init_selectwoo_custom\n\n\tfunction single_product_js(){\n\t\t$('body').on('click','.technical-spec h3',function(){\n\t\t\t$('.technical-spec h3,.technical-spec ul').toggleClass('open');\n\t\t})\n\t\t$('body').on('click','.toggle_address',function(){\n\t\t\t$(this).parent().toggleClass('open');\n\t\t});\n\t\t$('body').on('click','.close-stock',function(){\n\t\t\t$('.pickup_stock ul').hide();\n\t\t})\n\t\t$('body').on('click','.check_availability',function(){\n\t\t\t$('.pickup_stock ul').toggle();\n\t\t})\n\t\t\n\t}//single_product_js\n\n\tfunction init_currencySelector(){\n\t\t$('.currecy-selector').on('click',function(e){\n\t\t\te.preventDefault();\n\t\t\tvar country = $(this).data('currency');\n\t\t\t$('#wcpbc-widget-country-switcher-form input[name=\"wcpbc-manual-country\"]').val(country);\n\t\t\t$('#wcpbc-widget-country-switcher-form').submit();\n\t\t});\n\t}//init_currencySelector()\n\n\tvar latestRequest = null;\n\tfunction ajax_filter_products(append){\n\t\tappend = append == undefined ? false : append;\n\t\t\n\t\tif($('.chosen').length > 0){\n\t\t\t$('.reset-filters').show();\n\t\t}else{\n\t\t\t$('.reset-filters').hide();\n\t\t}\n\n\t\tvar data = {\n\t\t\tajax: true,\n\t\t\taction: 'theme_client_ajax_woo_cat_filter'\n\t\t}\n\n\t\tif(append){\n\t\t\tdata['currentCount'] = $('.shop-products-wrapper .products > .product').length;\n\t\t\t// $('.show-more-products').addClass('loading-more');\n\t\t\t$('.shop-products-wrapper').addClass('loading');\n\t\t}else{\n\t\t\t$('.shop-products-wrapper').addClass('loading');\n\t\t}\n\n\t\tif($('.widget_product_categories').length && $('.widget_product_categories').find('.chosen').length){\n\t\t\tvar catIDs = '';\n\n\t\t\t$('.widget_product_categories').find('.chosen').each(function(elem){\n\t\t\t\tthis.classList.forEach(function(className){\n\t\t\t\t\tif(className.indexOf('cat-item-') !== -1){\n\t\t\t\t\t\tcatIDs += className.replace('cat-item-', '')+',';\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tdata.catIDs = catIDs;\n\t\t}\n\n\t\tif($('.woocommerce-widget-layered-nav').length){\n\t\t\tvar attributes = [];\n\t\t\tvar url_filters= {};\n\t\t\tvar url_name=\"\";\n\t\t\tvar name = '';\n\t\t\t$('.filters-Tag').empty()\n\n\t\t\tjQuery('.woocommerce-widget-layered-nav ul li').each(function() {\n\t\t\t\tvar text = jQuery(this).find('a').attr('data-slug');\n\t\t\t\tif(text){\n\t\t\t\t\tjQuery(this).addClass('chosen');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$('.woocommerce-widget-layered-nav').each(function(){\n\t\t\t\tif($(this).find('.chosen').length){\n\t\t\t\t\tvar generalVars = new URL($(this).find('.chosen > a').attr('href'));\n\t\t\t\t\t\n\t\t\t\t\tvar attributeName = '';\n\n\t\t\t\t\tfor(var key of generalVars.searchParams.keys()) { \n\t\t\t\t\t\tif(key.indexOf('filter_') !== -1){\n\t\t\t\t\t\t\tattributeName = key.replace('filter_', '');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar termSlugs = '';\n\t\t\t\t\tvar queryType = generalVars.searchParams.get('query_type_'+attributeName);\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t$(this).find('.chosen > a').each(function(elem){\n\t\t\t\t\t\tvar termURL = new URL($(this).attr('href'));\n\t\t\t\t\t\tvar slug =  termURL.searchParams.get('filter_'+attributeName);\n\t\t\t\t\t\ttermSlugs += slug+',';\n\t\t\t\t\t\t$(this).attr('data-slug',slug);\n\t\t\t\t\t\taddTags(slug);\n\t\t\t\t\t\turl_filters[\"filtre_\"+slug] = 'on';\n\t\t\t\t\t});\n\n\t\t\t\t\tvar parts = window.location.pathname.split(\"/\");\n\t\t\t\t\tvar pagenumber = parts[parts.length-2];\n\t\t\t\t\tif(jQuery.isNumeric(pagenumber)) { \n\t\t\t\t\t\tpagenumber = pagenumber;\n\t\t\t\t\t} else { \n\t\t\t\t\t\tpagenumber = 1;\n\t\t\t\t\t}\n\t\t\n\n\t\t\t\t\tattributes.push({\n\t\t\t\t\t\tname: attributeName,\n\t\t\t\t\t\tqueryType: queryType,\n\t\t\t\t\t\ttermSlugs: termSlugs,\n\t\t\t\t\t\tpagenumber:pagenumber\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t\tname = $('#search').val();\n\t\t\tif(name !== ''){\n\t\t\t\taddTags(name,'name')\n\t\t\t\turl_filters[\"filtre_name\"] = name;\n\n\t\t\t}\n\t\t\tif($('input[name=\"limit_product_cat\"]').length > 0 ){\n\t\t\t\tlet found = false;\n\t\t\t\tattributes.forEach(x=>{\n\t\t\t\t\t\n\t\t\t\t\tif(x.name == 'product_cat'){\n\t\t\t\t\t\tx.termSlugs += $('input[name=\"limit_product_cat\"]').val()+',';\n\t\t\t\t\t\tfound=true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\n\t\t\t\tif(!found){\n\t\t\t\t\tattributes.push({\n\t\t\t\t\t\tname:'product_cat',\n\t\t\t\t\t\tqueryType:undefined,\n\t\t\t\t\t\ttermSlugs:$('input[name=\"limit_product_cat\"]').val()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\n\n\t\t\twindow.history.replaceState(null,null,'?'+Object.keys(url_filters).map(param => encodeURIComponent(param) + '=' + encodeURIComponent(url_filters[param])).join('&'));\n\t\t\t\n\t\t\tdata.name = name;\n\t\t\tdata.attributes = attributes;\n\t\t}\n\n\t\tlatestRequest = $.post( theme_client_data.ajax_url, data, function(res, status, jqXHR){\n\t\t\tconsole.log(\"filterdata = \",res);\n\t\t\tconsole.log(\"filterSlug = \",res.post.attributes[0].termSlugs);\n\n\t\t\tJSON.stringify(res);\n\t\t\tif(latestRequest === jqXHR){\n\t\t\t\t\n\t\t\t\tif(!append){\n\t\t\t\t\t\n\t\t\t\t\t$('.shop-products-wrapper .products').empty();\n\t\t\t\t}\n\n\t\t\t\tif((res.count + $('.shop-products-wrapper .products > .product').length) >= res.total){\n\t\t\t\t\t$('..woocommerce-pagination').hide();\n\n\t\t\t\t}else{\n\t\t\t\t\t$('..woocommerce-pagination').show();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$('.shop-products-wrapper .products').append(res.html).removeClass('loading');\n\t\t\t\t$('.shop-products-wrapper').removeClass('loading');\n\t\t\t\t$('.show-more-products').removeClass('loading-more');\n\t\t\t}\n\t\t}, 'json');\n\t} // ajax_filter_products\n\n})(jQuery);\njQuery( document ).ajaxStop(function() {\n\tlet loc = window.location;\n    \n    let pages = jQuery('.products .page-numbers li').length;\n    jQuery('.products .page-numbers li').each(function(){\n        let page =  jQuery(this).index() + 1;\n        if (window.location.href.indexOf(\"page/\") > -1) {\n            pathname = loc.pathname.substring(0, loc.pathname.indexOf('page'));\n        }else{\n            pathname = loc.pathname;\n        }\n        // console.log(pathname);\n        if(pages == page){\n            page = page-1;\n            if (window.location.href.indexOf(\"page/\"+page) > -1) {\n\t\t\t\tjQuery(this).find('span').remove();\n                jQuery(this).find('a').remove();\n                jQuery(this).append('<span aria-current=\"page\" class=\"page-numbers current\">→</span>');\n            }else{\n                jQuery(this).find('a').remove();\n\t\t\t\tjQuery(this).find('span').remove();\n                jQuery(this).append('<span aria-current=\"page\" class=\"page-numbers current\">→</span>');\n            }\n        }else{\n            if(window.location.href.indexOf(\"page/\"+page) > -1) {\n\t\t\t\tjQuery(this).find('span').remove();\n                jQuery(this).find('a').remove();\n                jQuery(this).append('<span aria-current=\"page\" class=\"page-numbers current\">'+page+'</span>');\n            }else{\n                jQuery(this).find('span').remove();\n                jQuery(this).find('a').remove();\n                jQuery(this).append('<a class=\"page-numbers\" href=\"'+loc.origin+''+pathname+'page/'+page+'/'+loc.search+'&paged='+page+'\">'+page+'</a>');\n            }\n        }\n    })\n  });\n\njQuery('.woocommerce-widget-layered-nav').each(function(){\n\tif(jQuery(this).find('a').length){\n\t\tconsole.log(jQuery(this).attr('data-slug'));\n\t}\n});\n"]}