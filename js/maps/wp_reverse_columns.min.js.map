{"version":3,"sources":["wp_reverse_columns.js"],"names":["addFilter","wp","hooks","createHigherOrderComponent","compose","Fragment","element","InspectorControls","blockEditor","_wp$components","components","PanelBody","CheckboxControl","activated_reverse","name","includes","addRellaxOption","props","attributes","Object","assign","reverse_cols","type","default","withReverseControl","BlockEdit","React","createElement","label","checked","onChange","val","setAttributes","ReverseExtraProps","saveElementProps","blockType","reverse","className"],"mappings":"AACA,IAAQA,UAAcC,GAAGC,MAAjBF,UAEAG,2BAA+BF,GAAGG,QAAlCD,2BACAE,SAAaJ,GAAGK,QAAhBD,SACAE,kBAAsBN,GAAGO,YAAzBD,kBAAJE,eACmCR,GAAGS,WAAlCC,UAAQF,eAARE,UAAWC,gBACGH,eADHG,gBAEfC,kBAAoB,SAASC,GAC7B,MAAO,CACT,gBACIC,SAASD,IAKTE,gBAAkB,SAAEC,EAAOH,GAUhC,OATGD,kBAAkBC,KAEpBG,EAAMC,WAAaC,OAAOC,OAAQH,EAAMC,WAAY,CACnDG,aAAc,CACbC,KAAM,UACNC,SAAS,MAILN,GACNjB,UAAW,2BAA4B,0BAA2BgB,iBAKpE,IAAMQ,mBAAqBrB,4BAA4B,SAAEsB,GACxD,OAAO,SAAER,GACR,OAAKJ,kBAAkBI,EAAMH,MAG5BY,MAAAC,cAACtB,SAAD,KACCqB,MAAAC,cAACF,EAAeR,GAChBS,MAAAC,cAACpB,kBAAD,KACEmB,MAAAC,cAAChB,UAAD,KACkBe,MAAAC,cAAA,KAAA,KAAA,6BACAD,MAAAC,cAACf,gBAAD,CACjBgB,MAAM,UACNC,QAASZ,EAAMC,WAAWG,aAC1BS,SAAY,SAACC,GACwBd,EAAMe,cAAc,CAChBX,aAAaU,UAbXL,MAAAC,cAACF,EAAeR,MAwB/D,sBACHjB,UAAW,mBAAoB,8BAA+BwB,oBAE9D,IAAMS,kBAAoB,SAAEC,EAAkBC,EAAWjB,GACrD,GAAKL,kBAAkBsB,EAAUrB,OAChCI,EAAWG,aAAa,CAC1B,IAAIe,EAAUlB,EAAWG,aACtBe,GACFjB,OAAOC,OAAQc,EAAkB,CAChCG,UAAYH,EAAiBG,WAAcD,EAAS,kBAAkB,MAM1E,OAAOF,GACNlC,UAAW,mCAAoC,uCAAwCiC","file":"../wp_reverse_columns.min.js","sourcesContent":["//importe le hook addfilter et la localisation\r\nconst { addFilter } = wp.hooks;\r\n\r\nconst { createHigherOrderComponent } = wp.compose;\r\nconst { Fragment } = wp.element;\r\nconst { InspectorControls } = wp.blockEditor;\r\nconst { PanelBody, CheckboxControl } = wp.components;\r\n\r\nlet activated_reverse = function(name){\r\n    return [\r\n\t\t'core/columns'\r\n    ].includes(name);\r\n}\r\n/**\r\n * Ajoute un props au block\r\n */\r\nconst addRellaxOption = ( props, name ) => {\r\n\tif(activated_reverse(name)){\r\n\t\t// on ajoute l'attribut et on ajoute une valeur par dÃ©faut\r\n\t\tprops.attributes = Object.assign( props.attributes, {\r\n\t\t\treverse_cols: {\r\n\t\t\t\ttype: 'boolean',\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t} );\r\n\t}\r\n\treturn props;\r\n};addFilter( 'blocks.registerBlockType', 'rellax/attribute/rellax', addRellaxOption );\r\n/**\r\n * Ajoute un controle dans la sidebar pour le plugin \r\n *\r\n */\r\nconst withReverseControl = createHigherOrderComponent( ( BlockEdit ) => {\r\n\treturn ( props ) => {\r\n\t\tif (!activated_reverse(props.name)) { return  ( <BlockEdit { ...props } /> ) ; }\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<BlockEdit { ...props } />\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t\t<PanelBody>\r\n                        <h3>Reverse Columns on mobile</h3>\r\n                        <CheckboxControl\r\n\t\t\t\t\t\t\tlabel=\"Reverse\"\r\n\t\t\t\t\t\t\tchecked={props.attributes.reverse_cols}\r\n\t\t\t\t\t\t\tonChange={  (val)=>{\r\n                                            props.setAttributes({\r\n                                                reverse_cols:val\r\n                                            }) \r\n                                        }\r\n                            }\r\n                        />\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t};\r\n}, 'withReverseControl' );\r\naddFilter( 'editor.BlockEdit', 'Rellax/with-Reverse-control', withReverseControl );\r\n\r\nconst ReverseExtraProps = ( saveElementProps, blockType, attributes ) => {\r\n    if ( activated_reverse(blockType.name) ) { \r\n\t\tif(attributes.reverse_cols){\r\n\t\t\tlet reverse = attributes.reverse_cols;\r\n\t\t\tif(reverse){\r\n\t\t\t\tObject.assign( saveElementProps, { \r\n\t\t\t\t\tclassName:  saveElementProps.className + ((reverse)?' reverse-mobile':''),\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\treturn saveElementProps;\r\n};addFilter( 'blocks.getSaveContent.extraProps', 'Reverse/get-save-content/extra-props', ReverseExtraProps );\r\n\r\n\r\n\r\n"]}