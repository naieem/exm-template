{"version":3,"sources":["gutenberg_blocks/step/step.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","registerBlockType","wp","blocks","ImageWP","cdm_core","components","Fragment","element","_wp$editor","editor","InspectorControls","InnerBlocks","_wp$components","PanelBody","TextControl","Step","props","React","createElement","className","src","attributes","image","url","title","action","edited","Content","step_data","suffix","lang","icon","category","type","default","id","name","text","edit","label","value","onChange","setAttributes","MediaUploadCheck","MediaUpload","onSelect","media","allowedTypes","ALLOWED_MEDIA_TYPES","render","_ref","open","Button","isPrimary","onClick","save"],"mappings":"AAAA,SAASA,WAA2Q,OAA9PA,SAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,IAFQS,kBAAsBC,GAAGC,OAAzBF,kBACAG,QAAYC,SAASC,WAArBF,QACAG,SAAaL,GAAGM,QAAhBD,SAGJE,WAFsCP,GAAGQ,OAArCC,kBAGgBF,WAHhBE,kBAAkBC,YAIRH,WAJQG,YAKtBC,eAJiCX,GAAGI,WAAhCQ,UAKQD,eALRC,UAAYC,YAMFF,eANEE,YAGdC,KAAO,SAAAC,GACT,OAAQC,MAAAC,cAAA,MAAA,CAAKC,UAAWH,EAAMG,WAClBF,MAAAC,cAAA,SAAA,KACID,MAAAC,cAACf,QAAD,CAASiB,IAAKJ,EAAMK,WAAWC,MAAMC,OAEzCN,MAAAC,cAAA,KAAA,KAAKF,EAAMK,WAAWG,OACtBP,MAAAC,cAAA,IAAA,CAAGC,UAAU,UAAUH,EAAMK,WAAWI,QAEvCT,EAAMU,OAAST,MAAAC,cAACP,YAAD,MAAkBM,MAAAC,cAACP,YAAYgB,QAAb,QAIlD3B,kBAAkB4B,UAAUC,OAAO,QAAQ,CAC1CL,MAAMI,UAAUE,KAAKN,MACrBO,KAAM,mBACHC,SAAU,SACVb,UAAU,OACbE,WAAW,CACJC,MAAM,CACFW,KAAK,SACLC,QAAS,CACLC,GAAG,KACHC,KAAK,GACLb,IAAI,KAGZC,MAAQ,CACJS,KAAK,SACLC,QAAQ,SAEZT,OAAS,CACLQ,KAAK,SACLC,QAAQ,UAEZG,KAAO,CACHJ,KAAK,SACLC,QAAQ,SAKnBI,KAAK,SAACtB,GACL,OAAQC,MAAAC,cAACZ,SAAD,KACUW,MAAAC,cAACH,KAAD7B,SAAA,GAAU8B,EAAV,CAAiBU,QAAQ,KACzBT,MAAAC,cAACR,kBAAD,KACIO,MAAAC,cAACL,UAAD,KACII,MAAAC,cAAA,KAAA,KAAA,QACAD,MAAAC,cAACJ,YAAD,CACIyB,MAAM,QACNC,MAAOxB,EAAMK,WAAWG,MACxBiB,SAAU,SAACD,GAAD,OAASxB,EAAM0B,cAAc,CAAClB,MAAMgB,OAElDvB,MAAAC,cAACJ,YAAD,CACIyB,MAAM,SACNC,MAAOxB,EAAMK,WAAWI,OACxBgB,SAAU,SAACD,GAAD,OAASxB,EAAM0B,cAAc,CAACjB,OAAOe,OAOnDvB,MAAAC,cAAA,KAAA,KAAA,aACAD,MAAAC,cAAA,IAAA,KAAIF,EAAMK,WAAWC,MAAMc,MAC3BnB,MAAAC,cAACyB,iBAAD,KACI1B,MAAAC,cAAC0B,YAAD,CACIC,SAAW,SAAEC,GACT9B,EAAM0B,cAAc,CAChBpB,MAAM,CACFa,GAAGW,EAAMX,GACTC,KAAKU,EAAMtB,MACXD,IAAIuB,EAAMvB,QAItBwB,aAAeC,oBACfR,MAAQxB,EAAMK,WAAWC,MAAMa,GAC/Bc,OAAS,SAAAC,GAAA,IAAIC,EAAJD,EAAIC,KAAJ,OACLlC,MAAAC,cAACkC,OAAD,CAAQC,WAAS,EAACC,QAAUH,GAA5B,+BAUpCI,KAAK,SAACvC,GAAD,OAAYC,MAAAC,cAACH,KAASC","file":"../../../gutenberg_blocks/step/step.min.js","sourcesContent":["const { registerBlockType } = wp.blocks;\r\nconst { ImageWP } = cdm_core.components;\r\nconst { Fragment } = wp.element;\r\nconst { InspectorControls,InnerBlocks } = wp.editor;\r\nconst { PanelBody , TextControl  } = wp.components;\r\n\r\n\r\nconst Step = props => {\r\n    return  <div className={props.className} >\r\n                <figure>\r\n                    <ImageWP src={props.attributes.image.url} />\r\n                </figure>\r\n                <h4>{props.attributes.title}</h4>\r\n                <p className=\"action\">{props.attributes.action}</p>\r\n\r\n                {props.edited ? <InnerBlocks /> : <InnerBlocks.Content  />}\r\n            </div>\r\n}\r\n\r\nregisterBlockType(step_data.suffix+'/step',{\r\n\ttitle:step_data.lang.title,\r\n\ticon: 'table-col-before',\r\n    category: 'layout',\r\n    className:'step',\r\n\tattributes:{\r\n        image:{\r\n            type:'object',\r\n            default: {\r\n                id:null,\r\n                name:'',\r\n                url:''\r\n            }\r\n        },\r\n        title : {\r\n            type:'string',\r\n            default:'Title'\r\n        },\r\n        action : {\r\n            type:'string',\r\n            default:'Action'\r\n        },\r\n        text : {\r\n            type:'string',\r\n            default:'Text'\r\n        }\r\n    },\r\n\r\n    \r\n\tedit:(props)=>{\r\n\t\treturn \t<Fragment>\r\n                    <Step {...props} edited={true} />\r\n                    <InspectorControls>\r\n                        <PanelBody>\r\n                            <h3>Step</h3>\r\n                            <TextControl\r\n                                label=\"title\"\r\n                                value={props.attributes.title}\r\n                                onChange={(value)=>props.setAttributes({title:value})}\r\n                            />\r\n                            <TextControl\r\n                                label=\"Action\"\r\n                                value={props.attributes.action}\r\n                                onChange={(value)=>props.setAttributes({action:value})}\r\n                            />\r\n                            {/* <TextControl\r\n                                label=\"Text\"\r\n                                value={props.attributes.text}\r\n                                onChange={(value)=>props.setAttributes({text:value})}\r\n                            /> */}\r\n                            <h3>Top image</h3>\r\n                            <p>{props.attributes.image.name}</p>\r\n                            <MediaUploadCheck>\r\n                                <MediaUpload\r\n                                    onSelect={ ( media ) => {\r\n                                        props.setAttributes({\r\n                                            image:{\r\n                                                id:media.id,\r\n                                                name:media.title,\r\n                                                url:media.url\r\n                                            }\r\n                                        })\r\n                                    }}\r\n                                    allowedTypes={ ALLOWED_MEDIA_TYPES }\r\n                                    value={ props.attributes.image.id }\r\n                                    render={ ( { open } ) => (\r\n                                        <Button isPrimary onClick={ open }>\r\n                                            Open Media Library\r\n                                        </Button>\r\n                                    ) }\r\n                                />\r\n                            </MediaUploadCheck>\r\n                        </PanelBody>\r\n                    </InspectorControls>\r\n\t\t\t\t</Fragment>\r\n\t},\r\n    save:(props) =>  <Step {...props} />\r\n});"]}