{"version":3,"sources":["gutenberg_blocks/step/step.js"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","registerBlockType","wp","blocks","ImageWP","cdm_core","components","Fragment","element","_wp$editor","editor","InspectorControls","InnerBlocks","_wp$components","PanelBody","TextControl","Step","props","React","createElement","className","src","attributes","image","url","title","action","edited","Content","step_data","suffix","lang","icon","category","type","default","id","name","text","edit","label","value","onChange","setAttributes","MediaUploadCheck","MediaUpload","onSelect","media","allowedTypes","ALLOWED_MEDIA_TYPES","render","_ref","open","Button","isPrimary","onClick","save"],"mappings":"AAAA,SAASA,WAAiS,OAApRA,SAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUJ,SAASa,MAAMC,KAAMR,UAAY,CAAlV,IAAQS,kBAAsBC,GAAGC,OAAzBF,kBACAG,QAAYC,SAASC,WAArBF,QACAG,SAAaL,GAAGM,QAAhBD,SACRE,WAA0CP,GAAGQ,OAArCC,kBAAiBF,WAAjBE,kBAAkBC,YAAWH,WAAXG,YAC1BC,eAAqCX,GAAGI,WAAhCQ,UAASD,eAATC,UAAYC,YAAWF,eAAXE,YAGdC,KAAO,SAAAC,GACT,OAAQC,MAAAC,cAAA,MAAA,CAAKC,UAAWH,EAAMG,WAClBF,MAAAC,cAAA,SAAA,KACID,MAAAC,cAACf,QAAO,CAACiB,IAAKJ,EAAMK,WAAWC,MAAMC,OAEzCN,MAAAC,cAAA,KAAA,KAAKF,EAAMK,WAAWG,OACtBP,MAAAC,cAAA,IAAA,CAAGC,UAAU,UAAUH,EAAMK,WAAWI,QAEvCT,EAAMU,OAAST,MAAAC,cAACP,YAAW,MAAMM,MAAAC,cAACP,YAAYgB,QAAO,MAEtE,EAEA3B,kBAAkB4B,UAAUC,OAAO,QAAQ,CAC1CL,MAAMI,UAAUE,KAAKN,MACrBO,KAAM,mBACHC,SAAU,SACVb,UAAU,OACbE,WAAW,CACJC,MAAM,CACFW,KAAK,SACLC,QAAS,CACLC,GAAG,KACHC,KAAK,GACLb,IAAI,KAGZC,MAAQ,CACJS,KAAK,SACLC,QAAQ,SAEZT,OAAS,CACLQ,KAAK,SACLC,QAAQ,UAEZG,KAAO,CACHJ,KAAK,SACLC,QAAQ,SAKnBI,KAAK,SAACtB,GACL,OAAQC,MAAAC,cAACZ,SAAQ,KACCW,MAAAC,cAACH,KAAI9B,SAAA,CAAA,EAAK+B,EAAK,CAAEU,QAAQ,KACzBT,MAAAC,cAACR,kBAAiB,KACdO,MAAAC,cAACL,UAAS,KACNI,MAAAC,cAAA,KAAA,KAAI,QACJD,MAAAC,cAACJ,YAAW,CACRyB,MAAM,QACNC,MAAOxB,EAAMK,WAAWG,MACxBiB,SAAU,SAACD,GAAK,OAAGxB,EAAM0B,cAAc,CAAClB,MAAMgB,GAAO,IAEzDvB,MAAAC,cAACJ,YAAW,CACRyB,MAAM,SACNC,MAAOxB,EAAMK,WAAWI,OACxBgB,SAAU,SAACD,GAAK,OAAGxB,EAAM0B,cAAc,CAACjB,OAAOe,GAAO,IAO1DvB,MAAAC,cAAA,KAAA,KAAI,aACJD,MAAAC,cAAA,IAAA,KAAIF,EAAMK,WAAWC,MAAMc,MAC3BnB,MAAAC,cAACyB,iBAAgB,KACb1B,MAAAC,cAAC0B,YAAW,CACRC,SAAW,SAAEC,GACT9B,EAAM0B,cAAc,CAChBpB,MAAM,CACFa,GAAGW,EAAMX,GACTC,KAAKU,EAAMtB,MACXD,IAAIuB,EAAMvB,MAGtB,EACAwB,aAAeC,oBACfR,MAAQxB,EAAMK,WAAWC,MAAMa,GAC/Bc,OAAS,SAAAC,GAAA,IAAIC,EAAID,EAAJC,KAAI,OACblC,MAAAC,cAACkC,OAAM,CAACC,WAAS,EAACC,QAAUH,GAAO,qBAE1B,OAOhD,EACGI,KAAK,SAACvC,GAAK,OAAMC,MAAAC,cAACH,KAASC,EAAS","file":"../../../gutenberg_blocks/step/step.min.js","sourcesContent":["const { registerBlockType } = wp.blocks;\nconst { ImageWP } = cdm_core.components;\nconst { Fragment } = wp.element;\nconst { InspectorControls,InnerBlocks } = wp.editor;\nconst { PanelBody , TextControl  } = wp.components;\n\n\nconst Step = props => {\n    return  <div className={props.className} >\n                <figure>\n                    <ImageWP src={props.attributes.image.url} />\n                </figure>\n                <h4>{props.attributes.title}</h4>\n                <p className=\"action\">{props.attributes.action}</p>\n\n                {props.edited ? <InnerBlocks /> : <InnerBlocks.Content  />}\n            </div>\n}\n\nregisterBlockType(step_data.suffix+'/step',{\n\ttitle:step_data.lang.title,\n\ticon: 'table-col-before',\n    category: 'layout',\n    className:'step',\n\tattributes:{\n        image:{\n            type:'object',\n            default: {\n                id:null,\n                name:'',\n                url:''\n            }\n        },\n        title : {\n            type:'string',\n            default:'Title'\n        },\n        action : {\n            type:'string',\n            default:'Action'\n        },\n        text : {\n            type:'string',\n            default:'Text'\n        }\n    },\n\n    \n\tedit:(props)=>{\n\t\treturn \t<Fragment>\n                    <Step {...props} edited={true} />\n                    <InspectorControls>\n                        <PanelBody>\n                            <h3>Step</h3>\n                            <TextControl\n                                label=\"title\"\n                                value={props.attributes.title}\n                                onChange={(value)=>props.setAttributes({title:value})}\n                            />\n                            <TextControl\n                                label=\"Action\"\n                                value={props.attributes.action}\n                                onChange={(value)=>props.setAttributes({action:value})}\n                            />\n                            {/* <TextControl\n                                label=\"Text\"\n                                value={props.attributes.text}\n                                onChange={(value)=>props.setAttributes({text:value})}\n                            /> */}\n                            <h3>Top image</h3>\n                            <p>{props.attributes.image.name}</p>\n                            <MediaUploadCheck>\n                                <MediaUpload\n                                    onSelect={ ( media ) => {\n                                        props.setAttributes({\n                                            image:{\n                                                id:media.id,\n                                                name:media.title,\n                                                url:media.url\n                                            }\n                                        })\n                                    }}\n                                    allowedTypes={ ALLOWED_MEDIA_TYPES }\n                                    value={ props.attributes.image.id }\n                                    render={ ( { open } ) => (\n                                        <Button isPrimary onClick={ open }>\n                                            Open Media Library\n                                        </Button>\n                                    ) }\n                                />\n                            </MediaUploadCheck>\n                        </PanelBody>\n                    </InspectorControls>\n\t\t\t\t</Fragment>\n\t},\n    save:(props) =>  <Step {...props} />\n});"]}