{"version":3,"sources":["utils.js"],"names":["validateEmail","email","test","isMobile","navigator","userAgent","substr","window","innerWidth","cdmConf","mobile_width","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","NodeList","forEach","callback","thisArg","i","this","length","call","String","includes","search","start","RegExp","TypeError","indexOf","$","fn","isOnScreen","win","viewport","top","scrollTop","left","scrollLeft","right","width","bottom","height","bounds","offset","outerWidth","outerHeight","calculateViewBox","svg","viewboxWidth","viewboxHeight","find","each","bbox","getBBox","endX","x","endY","y","attr","parallax","section","vitesse","zIndex","image","console","log","addClass","appendTo","css","append","parallaxAnimationFrame","parallaxObject","removeClass","visiblePart","parseInt","maxScroll","sectionScroll","centPourcent","requestAnimationFrame","checkAnimations","hasClass","index","el","elem_class","pos","anim_name","substring","setTimeout","animateCSS","replace","dispatchEvent","MutationObserver","mutations","mutation","type","addedNodes","observe","childList","subtree","on","jQuery","element","animation","prefix","arguments","Promise","resolve","reject","animationName","concat","Element","HTMLDocument","querySelector","classList","add","addEventListener","remove","once"],"mappings":"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","file":"../utils.min.js","sourcesContent":["/**\r\n * Polyfill CustomEvent pour IE.\r\n */\r\n(function(){\r\n    if ( typeof window.CustomEvent === \"function\" ) return false;\r\n  \r\n    function CustomEvent ( event, params ) {\r\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n      var evt = document.createEvent( 'CustomEvent' );\r\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n      return evt;\r\n     }\r\n  \r\n    CustomEvent.prototype = window.Event.prototype;\r\n  \r\n    window.CustomEvent = CustomEvent;\r\n})();\r\n\r\n// validation\r\nfunction validateEmail(email) { \r\n\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // TODO: ne pas accepter un IP \r\n\treturn re.test(email);\r\n}\r\n\r\nfunction isMobile(){\r\n\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0,4)) || window.innerWidth <= cdmConf.mobile_width){ return true;}else{return false;}\r\n}\r\n\r\n\r\n\r\nif (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}\r\nif (!String.prototype.includes) {\r\n\tString.prototype.includes = function(search, start) {\r\n\t  'use strict';\r\n  \r\n\t  if (search instanceof RegExp) {\r\n\t\tthrow TypeError('first argument must not be a RegExp');\r\n\t  }\r\n\t  if (start === undefined) { start = 0; }\r\n\t  return this.indexOf(search, start) !== -1;\r\n\t};\r\n  }\r\n\r\n\r\n(function($){\r\n\t/* function requise pour le parallax\r\n\t* détecte si un élément est afficher sur l'écran\r\n\t* Return bool\r\n\t*/\r\n\t$.fn.isOnScreen = function(){\r\n\r\n\t\tvar win = $(window);\r\n\r\n\t\tvar viewport = {\r\n\t\t\ttop : win.scrollTop(),\r\n\t\t\tleft : win.scrollLeft()\r\n\t\t};\r\n\t\tviewport.right = viewport.left + win.width();\r\n\t\tviewport.bottom = viewport.top + win.height();\r\n\r\n\t\tvar bounds = this.offset();\r\n\t\tbounds.right = bounds.left + this.outerWidth();\r\n\t\tbounds.bottom = bounds.top + this.outerHeight();\r\n\r\n\t\treturn (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Calcule les dimensions du viewBox d'un SVG avec les path visibles.\r\n\t * @param {Node} svg \r\n\t */\r\n\t$.fn.calculateViewBox = function(svg){\r\n\t\tvar viewboxWidth = 0;\r\n\t\tvar viewboxHeight = 0;\r\n\r\n\t\t$(svg).find('path:visible').each(function(){\r\n\t\t\tvar bbox = this.getBBox();\r\n\t\t\tvar endX = bbox.x + bbox.width;\r\n\t\t\tvar endY = bbox.y + bbox.height;\r\n\r\n\t\t\tif(endX > viewboxWidth){\r\n\t\t\t\tviewboxWidth = endX;\r\n\t\t\t}\r\n\r\n\t\t\tif(endY > viewboxHeight){\r\n\t\t\t\tviewboxHeight = endY;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(svg).attr('viewBox', '0 0 '+ viewboxWidth + ' ' + viewboxHeight);\r\n\t}\r\n\r\n\t/**\r\n\t * Rajoute du parallax a un élément\r\n\t * On doit déjà avoir un element dans le div qui est l'image\r\n\t *\r\n\t * @param section Le div qui va contenir le parallax\r\n\t * @param {int} [vitesse=0] La vitesse de défilement. Plus le chiffre est grand, mois la vitesse est grande, 0 = automatique\r\n\t * @param {int} [zIndex=-1] z-index de l'image\r\n\t * @return void\r\n\t */\r\n\t$.fn.parallax = function(section, vitesse, zIndex){\r\n\t\timage = this; // image to animation\r\n\t\tsection = $(section); // section to animate the image\r\n\r\n\t\tif(section.length == 0){\r\n\t\t\tconsole.log(\"la section pour le parallax n'existe pas\");\r\n\t\t}\r\n\r\n\t\tif(image.length == 0){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tvitesse = (typeof vitesse === 'undefined') ? 3 : vitesse; // réduction de la vitesse du parallax\r\n\t\tzIndex = (typeof zIndex === 'undefined') ? -1 : zIndex; // zIndex de -1 par default\r\n\t\t\r\n\t\t\r\n\t\timage.addClass('img-parallax');\r\n\t\tsection.addClass('section-parallax');\r\n\t\t\r\n\t\t// ajoute une wrapper pour l'image a l'intérieur de la section pour la garder dans le flow\r\n\t\t$('<div class=\"parallax-img-wrapper\"></div>').appendTo(section).css('z-index', zIndex).append(image);\r\n\t\t\r\n\t\tvar parallaxObject = {\r\n\t\t\tvitesse: vitesse,\r\n\t\t\timage: image,\r\n\t\t\tsection: section\r\n\t\t};\r\n\t\t\r\n\t\tparallaxAnimationFrame(parallaxObject);\r\n\t}\r\n\r\n\tfunction parallaxAnimationFrame(parallaxObject){\r\n\t\twin = $(window);\r\n\r\n\t\tparallaxObject.image.removeClass('inactif'); // active le parallax\r\n\t\t\r\n\t\tif(parallaxObject.section.isOnScreen() === true){\r\n\t\t\tvar visiblePart = parseInt(parallaxObject.section.css('height')); // hauteur de la section = zone visible de l'image\r\n\t\t\tvar maxScroll = parallaxObject.image.height() - visiblePart; // hauteur d'extra de l'image\r\n\t\t\t\r\n\t\t\tvar sectionScroll = win.scrollTop() + win.height() - parallaxObject.section.offset().top; // sectionScroll est à 0 quand on commence a voir la section, est représente le nombre de pixels visibles\r\n\t\t\t\r\n\t\t\tcentPourcent = parallaxObject.section.outerHeight() + win.height();\r\n\t\t\t//console.log(sectionScroll/centPourcent +\"%\");\r\n\t\t\t\r\n\t\t\tif(parallaxObject.vitesse == 0){\r\n\t\t\t\t// sectionScroll/centPourcent = mon pourcentage, entre 0 et 1\r\n\t\t\t\tparallaxObject.image.css('top', ((parallaxObject.section.outerHeight() - parallaxObject.image.height()) * (sectionScroll/centPourcent)) );\r\n\t\t\t}else{\r\n\t\t\t\t// si l'image est visible au top, on la part de 0\r\n\t\t\t\tif(parallaxObject.section.offset().top < win.height()){\r\n\t\t\t\t\tsectionScroll = win.scrollTop()/parallaxObject.vitesse;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsectionScroll = sectionScroll/parallaxObject.vitesse;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(sectionScroll >= maxScroll){ // si on a atteint le scroll maximum on reste au max\r\n\t\t\t\t\tparallaxObject.image.css('top', maxScroll*-1);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tparallaxObject.image.css('top', sectionScroll*-1);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\twindow.requestAnimationFrame(function(){\r\n\t\t\tparallaxAnimationFrame(parallaxObject);\r\n\t\t});\r\n\t}\r\n\r\n\t/*************/\r\n\t/* ANIMATION */\r\n\t/*************/\r\n\r\n\t// add class .toAnimate to html element with a animate.css effect class\r\n\t// when on screen, the animation will execute\r\n\tconst mutationConfig = {\r\n\t\tchildList: true,\r\n\t\tsubtree: true\r\n\t};\r\n\tvar newAnimationObserver = new MutationObserver(domNewContent);\r\n\tnewAnimationObserver.observe(document, mutationConfig);\r\n\t\r\n\tfunction domNewContent(mutations){\r\n\t\tmutations.forEach(function(mutation){\r\n\t\t\tif(mutation.type == 'childList'){\r\n\t\t\t\tlet addedNodes = mutation.addedNodes;\r\n\t\t\t\t\r\n\t\t\t\tif(addedNodes.length){ // Nouveau contenu ajouté\r\n\t\t\t\t\tcheckAnimations();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}); \r\n\t}\r\n\r\n\t$(window).on('scroll load', function(event) {\r\n\t\tcheckAnimations();\r\n\t});\r\n\r\n\tfunction checkAnimations(){\r\n\t\tif(!$('html').hasClass('preload')){\r\n\t\t\trequestAnimationFrame(function() {\r\n\t\t\t\t$('.toAnimate').each(function(index, el) {\r\n\t\t\t\t\tif($(this).isOnScreen() === true){\r\n\t\t\t\t\t\tvar elem_class = $(this).attr('class');\r\n\t\t\t\t\t\tvar pos = elem_class.search('animate__');\r\n\r\n\t\t\t\t\t\tif(pos !== -1){\r\n\t\t\t\t\t\t\tvar anim_name = elem_class.substring(pos, elem_class.indexOf(\" \", pos) !== -1 ? elem_class.indexOf(\" \", pos) : elem_class.length);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t$(this).removeClass(anim_name);\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tanimateCSS(el, anim_name.replace('animate__', ''));\r\n\t\t\t\t\t\t\t\t$(el).removeClass('toAnimate');\r\n\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.dispatchEvent(new CustomEvent('animated'));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n})(jQuery);\r\n\r\n/**\r\n * Fonction pour déclencher une animation.\r\n * \r\n * @param string|Element|HTMLDocument element Sélecteur sous forme de string ou un élément HTML.\r\n * @param string animation Le nom de l'animation.\r\n * @param string prefix Le prefix pour les animations (laissez valeur par défaut).\r\n */\r\nconst animateCSS = (element, animation, prefix = 'animate__') =>\r\n\t// We create a Promise and return it\r\n\tnew Promise((resolve, reject) => {\r\n\t\tconst animationName = `${prefix}${animation}`;\r\n\r\n\t\tif((element instanceof Element) === false && (element instanceof HTMLDocument) === false){\r\n\t\t\telement = document.querySelector(element);\r\n\t\t}\r\n\r\n\t\telement.classList.add(`${prefix}animated`, animationName);\r\n\r\n\t\t// When the animation ends, we clean the classes and resolve the Promise\r\n\t\tfunction handleAnimationEnd() {\r\n\t\t\telement.classList.remove(`${prefix}animated`, animationName);\r\n\t\t\tresolve('Animation ended');\r\n\t\t}\r\n\r\n\t\telement.addEventListener('animationend', handleAnimationEnd, {once: true});\r\n\t});"]}