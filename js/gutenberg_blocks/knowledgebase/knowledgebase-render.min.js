function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c,o,l=[],i=!0,u=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=c.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}cdm_core.fn.docReady((function(){return build_knowledgebase()}));var build_knowledgebase=function(){document.querySelector(".wp-block-exm-knowledgebase")&&cdm_core.react.render(React.createElement(Knowledgebase,{docs:knowledgebase_data.docs}),document.querySelector(".wp-block-exm-knowledgebase"))},Knowledgebase=function(e){var t=cdm_core.react.fragment,r=_slicedToArray(cdm_core.react.useState(null),2),n=r[0],a=r[1],c=_slicedToArray(cdm_core.react.useState([]),2),o=c[0],l=c[1],i=cdm_core.components.Conditional;React.useEffect((function(){if(u(),void 0!==document.querySelector(".wrap-extra")){var e=document.createElement("hr");e.className="p-0 m-0 has-color-2-background-color has-background",document.querySelector(".wrap-extra").parentNode.insertBefore(e,document.querySelector(".wrap-extra").nextSibling)}}),[]),React.useEffect((function(){d()}));var u=function(){void 0!==document.querySelector("banner-extra.content .right")&&cdm_core.react.render(React.createElement("div",{class:"search_box"},React.createElement("h4",null,knowledgebase_data.lang.howhelp),React.createElement("div",{class:"form-wrapper"},React.createElement("input",{type:"text",name:"s",id:"search",onChange:m,placeholder:knowledgebase_data.lang.search}),React.createElement("button",{onClick:s,class:"search-knowledge"},React.createElement("i",{class:"fal fa-search"})))),document.querySelector(".banner-extra.content .right"))},d=function(){var r=[React.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),y(null)}},knowledgebase_data.lang.ariane_base)],a=o.flatMap((function(t){var r=e.docs.filter((function(e){return e.ID==t}));if(r.length>0)return[React.createElement("i",{class:"fal fa-angle-right","aria-hidden":"true"}),React.createElement("a",{onClick:function(e){e.preventDefault(),y(r[0].ID)},href:r[0].ID},cdm_core.fn.HTMLEntities(r[0].name))]})),c=r.concat(a);if(n){var l=e.docs.filter((function(e){return e.ID==n}));l.length>0&&(c=c.concat([React.createElement("i",{class:"fal fa-angle-right","aria-hidden":"true"}),React.createElement("span",null,cdm_core.fn.HTMLEntities(l[0].name))]))}void 0!==document.querySelector("div.breadcrumb")&&cdm_core.react.render(React.createElement(t,null,c),document.querySelector("div.breadcrumb"))};window.onpopstate=function(e){o.length>0&&(e.preventDefault(),p())};var s=function(){b(document.getElementById("search").value)},m=function(e){b(e.target.value)},f=function(){return null==n?e.docs.filter((function(e){return(null==e.parent_category||0==e.parent_category)&&1==e.is_category})):"string"==typeof n?e.docs.filter((function(e){return e.name.toLowerCase().replace(" ","").includes(n.toLowerCase().replace(" ",""))})):e.docs.filter((function(e){return e.parent_category==n}))},y=function(e){var t=o.indexOf(e);l(o.slice(0,t)),a(e)},b=function(e){document.querySelector(".banner-top").scrollIntoView(!0),l([].concat(_toConsumableArray(o),[n])),a(e)},p=function(){var e=o[o.length-1];l(o.filter((function(t){return t!=e}))),a(e)};return React.createElement(t,null,React.createElement(i,{condition:o.length>0},React.createElement("button",{onClick:p},knowledgebase_data.lang.back)),React.createElement(i,{condition:"string"==typeof n},React.createElement("p",{class:"empty"}," ",n)),React.createElement(i,{condition:f().length>0},React.createElement("div",null,f().map((function(e){return React.createElement(Knowledgebase_cell,{clickFn:b,image:e.image,is_category:e.is_category,file:e.file,title:e.name,id:e.ID})})))),React.createElement(i,{condition:0==f().length&&"string"!=typeof n},React.createElement("p",{class:"empty"}," ",knowledgebase_data.lang.empty)),React.createElement(i,{condition:0==f().length&&"string"==typeof n},React.createElement("p",{class:"empty"}," ",knowledgebase_data.lang.search_empty)))},Knowledgebase_cell=function(e){var t=cdm_core.components.ImageWP;return React.createElement("div",{onClick:function(){null==e.file||0==e.file?e.clickFn(e.id):open(e.file.url)}},React.createElement(t,{src:e.image}),React.createElement("span",null,cdm_core.fn.HTMLEntities(e.title)))};
//# sourceMappingURL=../../maps/gutenberg_blocks/knowledgebase/knowledgebase-render.min.js.map
